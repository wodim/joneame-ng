{% macro render_pagination(pagination, endpoint) %}
    {% if not pagination.pages < 2 %}
        <div class="pager">
            {% if pagination.has_prev %}
                <a href="{{ url_for(endpoint, page=pagination.prev_num, **kwargs) }}">« anterior</a>
            {% endif %}
            {% for page in pagination.iter_pages(left_edge=1, left_current=2, right_current=3, right_edge=1) %}
                {% if page %}
                    {% if page == pagination.page %}
                        <span class="current">{{ page }}</span>
                    {% elif page == pagination.pages and pagination.page < pagination.pages - 3 %} {# 3 must equal right_current #}
                        {# skip last page #}
                    {% else %}
                        <a href="{{ url_for(endpoint, page=page, **kwargs) }}">{{ page }}</a>
                    {% endif %}
                {% else %}
                    <span>...</span>
                {% endif %}
            {% endfor %}
            {% if pagination.has_next %}
                <a href="{{ url_for(endpoint, page=pagination.next_num, **kwargs) }}">siguiente »</a>
            {% endif %}
        </div>
    {% endif %}
{% endmacro %}

{% macro render_menu(menu) %}
    <ul>
        {% for endpoint, text, title, current, kwargs in menu %}
            <li {% if current %}class="current"{% endif %}>
                <a href="{{ url_for(endpoint, **kwargs) }}">
                    {{ text }}
                </a>
        {% endfor %}
    </ul>
{% endmacro %}
